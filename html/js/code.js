HOTGATOR = function() {

    var mapData = 
    [{"updated_at":"2010-03-24T13:19:40-07:00","title":"Oracle 11g Database Upgrade Seminar","rrule":null,"venue_id":202390761,"url":"http://www.oracle.com/dm/10q4field/46458_11gr2_portland.html","duplicate_of_id":null,"id":1250458464,"version":null,"description":"The Oracle Development Upgrade team will be delivering this seminar to provide best practices and helpful tips to make your Oracle Database upgrades quick and successful.\n\nBreakfast and lunch will be served.  Must be registered to attend -- follow Website link to register.","venue":{"updated_at":"2008-10-17T08:54:12-07:00","postal_code":"97204","latitude":45.518873,"title":"The Nines Hotel","region":"OR","url":"https://www.starwoodhotels.com/luxury/property/overview/index.html?propertyID=1757","duplicate_of_id":null,"country":"US","id":202390761,"version":3,"street_address":"525 Sw Morrison St","description":"","locality":"Portland","telephone":"(877) 229-9995","longitude":-122.677834,"source_id":null,"address":"525 SW Morrison \u00b7 Portland, Oregon 97204","email":"","created_at":"2008-10-17T08:34:44-07:00"},"source_id":null,"start_time":"2010-04-15T08:00:00-07:00","end_time":"2010-04-15T13:30:00-07:00","created_at":"2010-03-20T22:41:08-07:00"},{"updated_at":"2010-03-08T19:10:05-08:00","title":"Strategies For IT Sourcing","rrule":null,"venue_id":202390263,"url":"http://oregontrainingnetwork.com/training-topics/external-hosting/","duplicate_of_id":null,"id":1250458402,"version":null,"description":"In today\u2019s business environment, Information Technology (IT) is not an option. The outsourcing of IT infrastructure is quickly becoming a critical decision for many businesses that are challenged to reduce costs, while maintaining their competitive advantage and planning for the future. \n\nCompanies such as Amazon, Google and Microsoft are building massive data centers to provide for the needs of most businesses. While some of this is work in progress, today there are already many choices available to outsource your IT infrastructure. \n\nThis course will give you the most practical, vendor-neutral perspective to make decisions on what is right for your business now and in terms of future choices for hosting your computing infrastructure externally.\n","venue":{"updated_at":"2009-11-28T15:46:08-08:00","postal_code":"97232","latitude":45.530768,"title":"Doubletree Hotel & Executive Meeting Center Portland - Lloyd Center ","region":"OR","url":"http://doubletree1.hilton.com/en_US/dt/hotel/RLLC-DT-Doubletree-Hotel-Executive-Meeting-Center-Portland-Lloyd-Center-Oregon/index.do","duplicate_of_id":null,"country":"US","id":202390263,"version":null,"street_address":"1000 Ne Multnomah St","description":"","locality":"Portland","telephone":"503-281-6111","longitude":-122.655583,"source_id":null,"address":"1000 NE Multnomah, Portland, Oregon, United States 97232","email":"","created_at":"2008-05-22T03:44:29-07:00"},"source_id":null,"start_time":"2010-04-15T09:00:00-07:00","end_time":"2010-04-16T17:00:00-07:00","created_at":"2010-03-08T19:10:05-08:00"},{"updated_at":"2010-03-27T12:44:53-07:00","title":"Portland Ten Skill Development Workshop: Product Management with Amy Winkelman","rrule":null,"venue_id":202391600,"url":"http://www.portlandten.com/skills","duplicate_of_id":null,"id":1250458483,"version":null,"description":"ADDITIONAL EVENT INFO\nSchedule & Topics\n\nWorkshops are held January 28- April 16,2010, on Tuesdays 2-4 pm and Thursdays 6-8 pm at NedSpace Old Town\u2013 for a full schedule of workshops & topics: http://www.portlandten.com/skills\n\nPricing\n\nPasses can be purchased at the door-- cash or check at the door only, please. If you need to pay by credit card, please let a staff member know.\n\n* 1 Workshop Pass: $20\n* 1 Track Pass (3 sessions in one topic): $45\n* Unlimited Pass (up to 24 sessions): $150\n\nSpecials\n\nUpgrade: if you purchase a pass and would like to upgrade to another package, we\u2019ll pro-rate it and you\u2019ll pay only the difference between the passes.\n\nPortland Ten: current participants & alumni attend free.\n\nSix Week Sprint: current participants & alumni may purchase an unlimited pass for $20.","venue":{"updated_at":"2009-10-25T12:39:28-07:00","postal_code":"97209","latitude":45.5241274,"title":"NedSpace Old Town","region":"OR","url":"http://nedspace.com","duplicate_of_id":null,"country":"US","id":202391600,"version":3,"street_address":"117 NW 5th Ave. Suite 210","description":"Above Backspace in Old Town","locality":"Portland","telephone":"","longitude":-122.6754688,"source_id":null,"address":"117 NW 5th Ave, Suite 210, Portland, OR 97209","email":"","created_at":"2009-07-07T21:41:24-07:00"},"source_id":996334220,"start_time":"2010-04-15T18:00:00-07:00","end_time":"2010-04-15T21:00:00-07:00","created_at":"2010-03-27T12:44:53-07:00"},{"updated_at":"2010-04-10T23:17:36-07:00","title":"Portland WordPress User Group: \"Taxonomies Are a Wonderful Thing\"","rrule":null,"venue_id":202390594,"url":"http://pdxwp.com/2010/04/april-15-taxonomies-are-a-wonderful-thing/","duplicate_of_id":null,"id":1250458520,"version":null,"description":"Please join us this Thursday at Webtrends where <a href=\"http://mfields.org/\">Michael Fields</a> will be speaking on the topic of Custom Taxonomies for your WordPress powered website. The purpose of the presentation is two-fold: to inform WordPress users that this functionality exists and inspire them to use custom taxonomies on their own sites by providing a series of use cases.\n\nPlease bear in mind that there will be absolutely no code to learn. All examples can be reproduced by a beginner with the aid of freely available, open-source plugins.","venue":{"updated_at":"2008-09-14T20:51:17-07:00","postal_code":"97204","latitude":45.518088,"title":"Webtrends","region":"OR","url":"http://www.webtrends.com/","duplicate_of_id":null,"country":"US","id":202390594,"version":null,"street_address":"851 SW 6th Ave.","description":"","locality":"Portland","telephone":"877-932-8736","longitude":-122.679722,"source_id":null,"address":"","email":"","created_at":"2008-09-14T20:49:19-07:00"},"source_id":996334251,"start_time":"2010-04-15T18:00:00-07:00","end_time":"2010-04-15T21:00:00-07:00","created_at":"2010-04-05T22:04:21-07:00"},{"updated_at":"2010-03-27T18:27:49-07:00","title":"PDX Weekly Hackathon","rrule":null,"venue_id":202390282,"url":"http://groups.google.com/group/pdx-weekly-hackathon ","duplicate_of_id":null,"id":1250458487,"version":null,"description":"Come do strange things with computers amongst others whilst drinking fine Portland beer. Look for the row of geeks with computers in the back of the main room.\n\nAll programming languages welcome. Come work on your own projects, work on others participants' projects, get advice, have fun, etc.\n\nYou're encouraged to bring a computer, but can team up with others that brought one too.\n\nAfterwards, the group descends on the 12th and Hawthorne foodcart pod for additional nourishment.\n\nAlso, many people meet up at the pub during the same time as the hackathon to play boardgames they bring which you're welcomed to play.","venue":{"updated_at":"2009-01-21T18:04:39-08:00","postal_code":"97214","latitude":45.5123,"title":"Lucky Labrador Brew Pub","region":"Oregon","url":"http://www.luckylab.com","duplicate_of_id":null,"country":null,"id":202390282,"version":2,"street_address":"915 SE Hawthorne Boulevard","description":"","locality":"Portland","telephone":"","longitude":-122.656,"source_id":996332988,"address":"","email":"","created_at":"2008-05-29T08:56:42-07:00"},"source_id":null,"start_time":"2010-04-15T18:30:00-07:00","end_time":"2010-04-15T22:00:00-07:00","created_at":"2010-03-27T18:27:49-07:00"},{"updated_at":"2010-04-14T21:08:06-07:00","title":"PDXScala Meeting","rrule":null,"venue_id":202391809,"url":"http://groups.google.com/group/pdxscala","duplicate_of_id":null,"id":1250458265,"version":null,"description":"Come join other Scala enthusiasts at our new location graciously hosted by Jive Software. Anything Scala related is open for discussion. We'll have Jesse Hallett discussing how he put together a lambda calculus to learn about Scala's parsing libraries. Leif Warner will also be showing an application he's been developing which uses the Step web framework (a workalike of the the Sinatra framework\nin Ruby). This app uses Simple Build Tool, Scardf, Jena, TDB, RDF/OWL, graphs and federated queries and is intended to provide an \"open source community family tree\" of the local Portland-area music scene.\n\nIf you have a project or some code you'd like to share (for review or just to look\nat how you solved an interesting problem) please bring it along. Pizza\nwill be provided by Jive.\n\nhttp://pdxscala.org/next-pdxscala-meeting-thusday-415-7pm-at-jive","venue":{"updated_at":"2009-10-25T15:20:23-07:00","postal_code":"97205","latitude":45.5218,"title":"Jive Software","region":"Oregon","url":null,"duplicate_of_id":null,"country":"United States","id":202391809,"version":null,"street_address":"915 SW Stark St., Suite 400","description":null,"locality":"Portland","telephone":null,"longitude":-122.68,"source_id":996333853,"address":null,"email":null,"created_at":"2009-10-25T15:20:23-07:00"},"source_id":null,"start_time":"2010-04-15T19:00:00-07:00","end_time":"2010-04-15T22:00:00-07:00","created_at":"2010-01-31T22:09:07-08:00"},{"updated_at":"2010-04-07T20:09:31-07:00","title":"PDXPUG: An Introduction to Managing and Troubleshooting PostgreSQL on Windows","rrule":null,"venue_id":202389965,"url":"http://pugs.postgresql.org/pdx/","duplicate_of_id":null,"id":1250458528,"version":null,"description":"Tim Bruce will be speaking at the next PDXPUG meeting at FreeGeek (at\n7:00pm - 1731 SE 10th Avenue, Portland, OR).\n\n-----\n\nAn Introduction to Managing and Troubleshooting PostgreSQL on Windows\n\nThis talk will be for entry-level to mid-level Windows Administrators who\nhave to support PostgreSQL on Windows (Windows Server or Windows\nDesktops).  I'll touch on managing the service(s) and checking the Windows\nlogs, as well as some quick ways to look for performance of the Operating\nSystem and PostgreSQL with the built-in tools on Microsoft Windows.\n\nTim Bruce is a Database Administrator for Fiserv Enterprise Technology.\nHe is spread between Microsoft SQL Server on Windows and PostgreSQL\nrunning on SuSE Linux.  In his spare time, he supports several Emergency\nService organizations including the Washington County Composite Squadron\nof the Civil Air Patrol.\n\nLooking forward to seeing everyone there....and of course, drinks at\nthe Lucky Lab (http://www.luckylab.com/ ) at 915 SE Hawthorne Blvd.\nafterward.","venue":{"updated_at":"2008-05-20T06:50:23-07:00","postal_code":"97214","latitude":45.510575,"title":"Free Geek","region":"OR","url":"http://www.freegeek.org","duplicate_of_id":null,"country":"US","id":202389965,"version":null,"street_address":"1731 SE 10th Avenue","description":"FREE GEEK is a 501(c)(3) not for profit community organization that recycles used technology to provide computers, education, internet access and job skills training to those in need in exchange for community service.","locality":"Portland","telephone":"(503)232-9350","longitude":-122.655707,"source_id":null,"address":"1731 SE 10th Avenue, Portland, OR 97214","email":"info@freegeek.org","created_at":"2008-03-02T07:47:22-08:00"},"source_id":null,"start_time":"2010-04-15T19:00:00-07:00","end_time":"2010-04-15T20:00:00-07:00","created_at":"2010-04-07T20:09:31-07:00"},{"updated_at":"2010-04-08T19:10:00-07:00","title":"Brain Silo Hackfest/Open House","rrule":null,"venue_id":202392003,"url":"http://brainsilo.org","duplicate_of_id":null,"id":1250458533,"version":null,"description":"The silo is open to any interested parties who want to hack or check out the space. <b>This is an Open House meeting</b>\n\nNOTE: The entrance for the space is on the backside of the building in the alley -- NOT at the mailing address. See this satellite view for clarification: http://bit.ly/8Arvpt\n\nThe outside door is at the top of a set of stairs. The space is marked with a small sticker that is labeled \"BrainSilo\"","venue":{"updated_at":"2010-04-06T11:48:05-07:00","postal_code":"97211","latitude":45.538229,"title":"bRainSilo","region":"OR","url":"http://brainsilo.org","duplicate_of_id":null,"country":"US","id":202392003,"version":null,"street_address":"611 N. Tillamook","description":"The entrance for the space is on the backside of the building in the alley -- NOT at the mailing address. See this satellite view for clarification: http://bit.ly/8Arvpt","locality":"Portland","telephone":"","longitude":-122.672345,"source_id":null,"address":"","email":"","created_at":"2010-04-06T09:58:21-07:00"},"source_id":null,"start_time":"2010-04-15T19:00:00-07:00","end_time":"2010-04-15T20:00:00-07:00","created_at":"2010-04-08T19:10:00-07:00"}]
;
    var makeMap = function() {

        var latlng = new google.maps.LatLng(45.5374054,  -122.65028);
        var myOptions = {
            zoom: 8,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.TERRAIN
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

        function correctHeight() {
            var window_height = $(window).height();
            var header_height = $("#search-container").offset().top;
            $("#search-results").height(window_height - header_height - 20); //-20 for padding
            $("#map_canvas").height(window_height - header_height);
        }
        correctHeight();
        jQuery.event.add(window, "resize", correctHeight);

        var infowindow = new google.maps.InfoWindow();

        function add_info_window(map, marker, infowindow, content) {
            function open_info_window() {
                infowindow.open(map,marker);
                infowindow.setContent(content);
            }
            google.maps.event.addListener(marker, 'click', open_info_window);
            $("#open-an-infowindow").click(open_info_window);
        }
        
        $.each(mapData, function(index,event){ 

            var place = new google.maps.LatLng(event.venue.latitude, event.venue.longitude);
            console.log(place);
            var marker = new google.maps.Marker({
                  position: place, 
                  map: map, 
                  title:event.title
            });   

            add_info_window(map, marker, infowindow, event.title);

        });

    };

    return {
        makeMap: makeMap
    };

}();

$(function(){ HOTGATOR.makeMap() });
